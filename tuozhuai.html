<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>拖拽</title>
</head>
<style>
    div{
        width: 200px;
        height:200px;
        border: 1px solid #FF0000;
        position: absolute;
    }
    div:nth-child(1){
        top:0;
        left:0;
    }
    div:nth-child(2){
        top:200px;
        left:0;
    }
    div:nth-child(3){
        top:400px;
        left:0;
    }
    div:nth-child(4){
        top:600px;
        left:0;
    }
    div:nth-child(5){
        top:800px;
        left:0;
    }
</style>
<script>
    class Drag{
        constructor(selector){
            this.eles=document.querySelectorAll(selector);
            this.startDrag();
        }
        startDrag() {
            for (var i = 0; i < this.eles.length; i++) {
                var that = this;
                this.eles[i].onmousedown = function (e) {
                    //console.log(this);
                    var left = this.offsetLeft;
                    var top = this.offsetTop;
                    var cx = e.clientX;
                    var cy = e.clientY;
                    that.lenx = cx - left;
                    that.leny = cy - top;
                    //console.log(that);
                    that.move(this);
                    //console.log(that);
                    that.up();
                }
            }
        }
            move(obj){
                var that=this;
                document.onmousemove=function (e) {
                    var cx=e.clientX;
                    var cy=e.clientY;
                    obj.style.left=cx-that.lenx+"px";
                    obj.style.top=cy-that.leny+"px";
                }
            }
            up(){
                document.onmouseup=function () {
                    document.onmousemove=null;
                    document.onmouseup=null;
                }
            }
    }

    window.onload=function () {
        new Drag("div");
    }
</script>
<body>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
</body>
</html>